---
id: ba-0380
status: open
deps: []
links: []
created: 2026-01-29T18:09:19Z
type: epic
priority: 1
assignee: vot3k
---
# Epic: Phase 2 — Multi-Host Orchestrator (vmm-ctl)

## Overview
Implement vmm-ctl — a CLI/daemon that manages a registry of hosts running vmm-api and provides cluster-wide VM management, placement, and status aggregation. This is Phase 2 of RFC-001.

## Scope
- New binary: cmd/vmm-ctl/main.go
- New package: internal/orchestrator/ (client, orchestrator, placement)
- Host registry management (add/remove/list)
- VM placement logic (least-loaded strategy)
- Cluster-unique VM name enforcement
- Aggregate views across all hosts
- mTLS client for communicating with vmm-api instances

## Success Criteria
- vmm-ctl create worker-1 --cpus 2 --memory 1024 places VM on best-fit host
- vmm-ctl list shows all VMs across all hosts in a unified table
- vmm-ctl host list shows all hosts with health, VM count, CPU/memory usage
- vmm-ctl ssh <name> resolves the correct host automatically

## Dependencies
- Requires Phase 1 (vmm-api) to be functional

## Reference
- RFC: /Users/jimmy/Tools/baremetalvmm/docs/rfcs/RFC-001-multi-host-orchestration-api.md

